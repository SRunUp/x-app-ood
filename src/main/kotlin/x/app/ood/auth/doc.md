### 需求分析

- 调⽤⽅进⾏接⼝请求的时候，将 URL、AppID、密码、时间戳拼接在⼀起，通过加密算法⽣成 token，并且将 token、AppID、时间戳拼接在 URL 中，⼀并发送到微服务端。 
- 微服务端在接收到调⽤⽅的接⼝请求之后，从请求中拆解出 token、AppID、时间戳。 
- 微服务端⾸先检查传递过来的时间戳跟当前时间，是否在 token 失效时间窗⼝内。如果已经超过失效时间，那就算接⼝调⽤鉴权失败，拒绝接⼝调⽤请求。 
- 如果 token 验证没有过期失效，微服务端再从⾃⼰的存储中，取出 AppID 对应的密码，通过同样的 token ⽣成算法，⽣成另外⼀个 token，与调⽤⽅传递过来的 token 进⾏匹配。如果⼀致，则鉴权成功，允许接⼝调⽤；否则就拒绝接⼝调⽤。 



### 功能点
1. 把 URL、AppID、密码、时间戳拼接为⼀个字符串；
2. 对字符串通过加密算法加密⽣成 token；
3. 将 token、AppID、时间戳拼接到 URL 中，形成新的 URL； 
4. 解析 URL，得到 token、AppID、时间戳等信息；
5. 从存储中取出 AppID 和对应的密码；
6. 根据时间戳判断 token 是否过期失效；
7. 验证两个 token 是否匹配；



### 划分职责识别类

AuthToken 1,2,6,7
ApiRequest 3,4
CredentialStorage 5